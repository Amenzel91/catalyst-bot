# --- DISCORD webhooks ---
DISCORD_WEBHOOK_URL=                         # REQUIRED: main alerts channel
DISCORD_ADMIN_WEBHOOK=                       # optional: admin/dev channel for heartbeats

# --- Phase B feature flags (safe defaults off) ---
# When enabled, preliminary classification in feeds/analyzer uses the new classify.classify() adapter.
FEATURE_CLASSIFIER_UNIFY=0                   # 1=enable unified classifier bridge
# When enabled, the analyzer will post a truncated summary markdown as an embed to the admin webhook.
FEATURE_ADMIN_EMBED=0                        # 1=enable analyzer summary embed
# When enabled, alerts will include intraday indicators (VWAP/RSI14) when available.
FEATURE_INDICATORS=0                         # 1=enable intraday indicators enrichment

# Optional path to a specific analyzer summary markdown file for admin embed.
# If unset, the helper auto-selects the newest summary_*.md under out/analyzer.
ADMIN_SUMMARY_PATH=

# --- Features ---
FEATURE_ALERTS=1                             # 1=enable alerts
FEATURE_HEARTBEAT=1                          # 1=send boot/interval heartbeats
FEATURE_RECORD_ONLY=0                        # 1=donâ€™t post alerts, only log

# Heartbeat cadence in minutes (0=only at boot and manual)
HEARTBEAT_INTERVAL_MIN=0

# --- Classification gates (all optional; blank disables) ---
MIN_SCORE=
MIN_SENT_ABS=
CATEGORIES_ALLOW=                            # CSV of categories to allow (case-insensitive)

# --- Sources & filters ---
SKIP_SOURCES=                                # e.g. sec_fwp to cut noise while testing
PRICE_CEILING=                               # e.g. 10.0 to skip tickers > $10
IGNORE_INSTRUMENT_TICKERS=1                  # 1=drop warrants/units/etc

# --- Ticker extraction flags ---
ALLOW_OTC_TICKERS=0                          # 1=allow OTCMKTS/OTCQX/OTCQB prefixes
DOLLAR_TICKERS_REQUIRE_EXCHANGE=0            # 1=drop bare $TICKER unless exchange-qualified

# --- Rate limiting / pacing (alerts.py) ---
ALERTS_RESPECT_RL_ON_SUCCESS=1               # gently pace when Discord bucket empties
ALERTS_MIN_INTERVAL_MS=300                   # soft spacing per webhook (ms)
ALERTS_JITTER_MS=150                         # random jitter added after success (ms)
MAX_ALERTS_PER_CYCLE=40                      # cap per run loop

# Per-key burst limiter (alerts_rate_limit.py). Off by default in prod.
HOOK_ALERTS_RATE_LIMIT=0
ALERTS_RATE_WINDOW_SECS=60
ALERTS_RATE_MAX=4

# --- Analyzer / misc ---
TICKERS_DB_PATH=                             # optional override; else data/tickers.db

# --- Logging ---
LOG_LEVEL=INFO                               # DEBUG, INFO, WARNING, ERROR

# --- Finviz Elite (news export) ---
FINVIZ_ELITE_AUTH=                               # paste your Finviz Elite API token (preferred)
FINVIZ_AUTH_TOKEN=                               # alternative older variable for backward-compat
FEATURE_FINVIZ_NEWS=1                            # 1=enable, 0=disable
FINVIZ_NEWS_KIND=stocks                          # market|stocks|etfs|crypto
FINVIZ_NEWS_TICKERS=                             # optional CSV filter: e.g. AAPL,MSFT
FINVIZ_NEWS_INCLUDE_BLOGS=0                      # 0=news only, 1=include blogs
FINVIZ_NEWS_MAX=200                              # cap items per pull
FINVIZ_NEWS_TIMEOUT=10                           # seconds
# FINVIZ_NEWS_PARAMS=pid=12345                   # optional extra query params (e.g., portfolio id)
